{"version":3,"sources":["fullMenu.js"],"names":["links","document","querySelectorAll","V","overlay","querySelector","hamburgerMenu","classes","_toggleClass","element","className","item","index","classList","addEventListener","e","preventDefault","iter","coordAnchor","getAttribute","getBoundingClientRect","top","windowY","window","pageYOffset","start","time","coordY","max","progress","scrollTo","requestAnimationFrame","elements","curentSectionId","getActive","forEach","link","sections","topPos","section","add","id"],"mappings":"aAAA,IAAMA,MAAQC,SAASC,iBAAiB,eAClCC,EAAI,GAAHC,QAAPH,SAAAI,cAAA,qBAEMD,cAAkBH,SAACI,cAAc,kBACjCC,QAAAA,CAAa,OAAGL,UAChBM,SAAW,CAAAD,cAAjBF,SAGMI,aAAe,SAACC,EAASC,GAA/BD,EAAMD,QAAY,SAAGG,EAAAC,GAAH,OAAZJ,EAAeK,UAAUH,OAAAA,EAAcE,OAC3BN,cAAhBQ,iBAAA,QAAA,SAAAC,GADFA,EAAAC,iBAIAV,aAAcQ,SAAAA,2FAGZN,QAAAA,2BAAAA,cAHFS,EAAAH,iBAAA,QAAA,SAAAC,GAQIA,EAAEC,iBAEF,IACME,EADSjB,SAASI,cAAcY,EAAKE,aAAa,SAC7BC,wBAAwBC,IAC7CC,EAAUC,OAAOC,YANhBP,EAQK,KANZF,sBAGA,SAAMG,EAAAA,GACUK,OAAVD,IAAgBG,EAACD,GAEvB,IAAIC,EAAQC,EAAZD,EAQE,IAAIE,EAJNT,EAAcQ,EACRD,KAAKG,IAAAN,EAAWG,EAAAtB,EAAAmB,EAAAJ,GAChBW,KAAAA,IAAQP,EAAUG,EAAtBtB,EAAAmB,EAAAJ,GAOAK,OAAAA,SAAOO,EAAPH,GAEAA,GAAUL,EAAWJ,EACnBa,sBAAAA,GAEAvB,aAAAA,SAAYD,cA7BlBC,UAAawB,MAAbxB,OAAAA,cAAAA,2BAAAA,MAAAA,UAAAA,QAAAA,MAAAA,2BAAAA,EAAuBD,4LAGC,IAAA0B,gBAAA,KAiD1B,SAASC,UAAUD,GACjBjC,MAAMmC,QAAQ,SAAAC,GAjBZH,IAAAA,EAAAA,EAAkBd,aAAtB,QAGEiB,EAAMC,UAAWpC,OAASC,UAGlBoC,IAAAA,IAAAA,OAASC,IAiBbH,EAAKvB,UAAU2B,IAAI,YArBzBvC,SAASa,iBAAiB,SAAU,WACjBb,SAASC,iBAAiB,YAElCiC,QAAQ,SAAAI,GACf,IAAMD,EAASC,EAAQnB,wBAAwBC,KAEhC,IAAXiB,GAAiBA,GAAU,KAC7BL,gBAAkBM,EAAQE,MAI9BP,UAAUD","file":"fullMenu.js","sourcesContent":["const links = document.querySelectorAll(\"[href^='#']\");\r\nconst V = 0.5;\r\n\r\nconst overlay = document.querySelector(\"#hamburgerOverlay\");\r\nconst hamburgerMenu = document.querySelector(\"#hamburgerMenu\");\r\nconst classes = [\"open\", \"active\"];\r\nconst elements = [hamburgerMenu, overlay];\r\n\r\nconst _toggleClass = (element, className) => {\r\n  element.forEach((item, index) => item.classList.toggle(className[index]));\r\n};\r\n\r\nhamburgerMenu.addEventListener(\"click\", e => {\r\n  e.preventDefault();\r\n\r\n  _toggleClass(elements, classes);\r\n});\r\n\r\nfor (const iter of links) {\r\n  iter.addEventListener(\"click\", e => {\r\n    e.preventDefault();\r\n\r\n    const anchor = document.querySelector(iter.getAttribute(\"href\"));\r\n    const coordAnchor = anchor.getBoundingClientRect().top;\r\n    const windowY = window.pageYOffset;\r\n\r\n    let start = null;\r\n\r\n    requestAnimationFrame(step);\r\n\r\n    function step(time) {\r\n      if (start === null) start = time;\r\n      let progress = time - start;\r\n\r\n      let coordY =\r\n        coordAnchor < 0\r\n          ? Math.max(windowY - progress / V, windowY + coordAnchor)\r\n          : Math.min(windowY + progress / V, windowY + coordAnchor);\r\n\r\n      window.scrollTo(0, coordY);\r\n\r\n      if (coordY != windowY + coordAnchor) {\r\n        requestAnimationFrame(step);\r\n      } else {\r\n        _toggleClass(elements, classes);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n// Реализация подсветки пунктов меню с актуальной секцией\r\nlet curentSectionId = null;\r\n\r\ndocument.addEventListener(\"scroll\", function() {\r\n  const sections = document.querySelectorAll(\".section\");\r\n\r\n  sections.forEach(section => {\r\n    const topPos = section.getBoundingClientRect().top;\r\n\r\n    if (topPos >= -25 && topPos <= 25) {\r\n      curentSectionId = section.id;\r\n    }\r\n  });\r\n\r\n  getActive(curentSectionId);\r\n});\r\n\r\nfunction getActive(curentSectionId) {\r\n  links.forEach(link => {\r\n    const href = link.getAttribute(\"href\");\r\n\r\n    link.classList.remove(\"active\");\r\n\r\n    if (href === `#${curentSectionId}`) {\r\n      link.classList.add(\"active\");\r\n    }\r\n  });\r\n}\r\n"]}